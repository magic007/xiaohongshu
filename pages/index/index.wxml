<!--index.wxml-->
<scroll-view class="scrollarea" scroll-y type="list">
  <!-- 自定义导航栏 -->
  <view class="custom-nav" style="padding-top:{{statusBarHeight}}px">
    <view class="search-container">
      <view class="logo">小红书</view>
      <view class="search-box" bindtap="goToSearch">
        <view class="search-icon"></view>
        <input type="text" placeholder="国家公祭日" placeholder-class="search-placeholder" disabled />
      </view>
      <image class="more-icon" src="/assets/images/more.png"></image>
    </view>
  </view>

  <!-- 主容器 -->
  <scroll-view 
    class="scrollarea" 
    scroll-y 
    bindscrolltolower="loadMore"
    enable-back-to-top
    enhanced
    show-scrollbar="{{false}}"
    style="margin-top:{{navHeight}}px"
  >
    <!-- 分类导航 -->
    <scroll-view scroll-x class="nav-scroll" enable-flex>
      <view class="nav-item {{currentTab === index ? 'active' : ''}}" 
            wx:for="{{categories}}" 
            wx:key="objectId"
            bindtap="switchTab"
            data-index="{{index}}">
        {{item.name}}
      </view>
    </scroll-view>

    <!-- 内容列表 -->
    <view class="content-list">
      <view class="card-container">
        <view class="card-item" wx:for="{{contentList}}" wx:key="id" bindtap="goToDetail" data-id="{{item.id}}">
          <note-card note="{{item}}"></note-card>
        </view>
      </view>

      <!-- 加载更多 -->
      <view class="loading" wx:if="{{hasMore}}">正在加载更多...</view>
      <view class="loading" wx:else>没有更多了</view>
    </view>
  </scroll-view>

  <!-- 浮动发布按钮 -->
  <view class="publish-btn" bindtap="goToPublish">
    <view class="plus">+</view>
  </view>
</scroll-view>
